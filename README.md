## Результат выполнения тестового задания на позицию DevOps

### Перечень файлов

	- Vagrantfile		- конфигурационный файл Vagrant;
	- cfg_files.tgz		- архив, содержащий конфигурационные файлы NGINX и CS-Cart;
	- init_dbapp_service.sh	- bash-скрипт, обеспечивающий настройку окружения виртуальной
                                  машины веб-сервера;
	- init_webapp_service.sh- bash-скрипт, обеспечивающий настройку окружения виртуальной
                                  машины БД под управлением СУБД MySQL;
	- update_vagrantfile.sh	- bash-скрипт, обеспечивающий автоматизированную корректировку IP-адресов
                                  разворачиваемых виртуальных машин в файле Vagrantfile;
	- webapp_settings.conf	- файл, содержащий настройки развертывания приложения.

### Перечень настроек Vagrantfile

	- ":hostname"	- наименование виртуальной машины;
	- ":ip"		- IP-адрес, назначаемый виртуальной машине;
	- ":cpu"	- количество ЦПУ виртуальной машины;
	- ":ram"	- объем ОЗУ виртуальной машины;
	- ":file"	- файл (архив с файлами), передаваемый виртуальной машине для последующей настройки
                          внутренней программной среды.

### Перечень параметров развертывания приложения (webapp_settings.conf)

	- IP_VM_WEB_APP		- IP-адрес веб-сервера;
	- IP_VM_DATABASE	- IP-адрес БД;
	- WEBAPP_NAME		- наименование приложения;
	- WEBAPP_CFG_FILE	- конфигурационный файл приложения;
	- NGINX_MAIN_CFG_DIR	- главный системный каталог размещения конфигурационных файлов веб-сервера;
	- NGINX_CUSTOM_CFG_DIR	- каталог размещения конфигурационных файлов приложения;
	- NGINX_CFG_FILE	- наименование конфигурационного файла веб-сервера;
	- MYSQL_ROOT_PAS	- пароль супер пользователя БД;
	- MYSQL_USER_NAME	- логин пользователя БД приложения;
	- MYSQL_USER_PAS	- пароль пользователя БД приложения;
	- MYSQL_DB_NAME		- наименование БД приложения;

### Описание результата выполнения тестового задания

В рамках выполненного тестового задания для работы приложения CS-Cart используется подсеть 192.168.1.0/24, формируются две виртуальные машины:

1. Сервер приложения CS-Cart (IP:192.168.1.15) - виртуальная машина с настроенным веб-окружением: устанавливается веб-сервер NGINX, PHP-FPM, а также необходимые модули php.

2. Сервер БД для приложения CS-Cart (IP:192.168.1.16) - виртуальная машина с настроенным окружением сервера БД под управлением СУБД MySQL.

### Подготовка и проверка результата

1. На тестовой машине на базе Linux необходимо установить программное обеспечение:
	- Vagrant
	- VirtualBox
	- Git

2. Клонировать репозиторий (https://github.com/ksajo/taskdevops.git), содержащий Vagrantfile и код настройки окружения.

3. При необходимости заполнить (в рамках данного решения задания - не требуется) перечень параметров развертывания приложения в файле webapp_settings.conf и запустить на исполнение файл update_vagrantfile.sh для автоматизированнной корректировки IP-адресов разворачиваемых виртуальных машин в файле Vagrantfile:

```bash
    ./update_vagrantfile.sh
```

**Примечание:** В случае ручной корректировки необходимо произвести редактирование параметров развертывания приложения в двух файлах webapp_settings.conf и Vagrantfile обязательно.

4. В директории с Vagrantfile выполнить команду:

```bash
    vagrant up
```
5. После запуска сформированных виртуальных машин на тестовой машине на базе Linux запустить веб-браузер и проверить доступность приложения CS-Cart по адресу - http://192.168.1.15.

Проверка результата выполнения задания проводилась как на ОС Ubuntu 18.04.5 LTS, так и на ОС Windows 8.1 SL.
